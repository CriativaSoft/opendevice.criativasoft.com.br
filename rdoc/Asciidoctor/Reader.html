<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class Asciidoctor::Reader - API Documentation for Asciidoctor 0.1.4</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  

  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/asciidoctor/reader.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    <nav id="sections-section" class="section">
  <h3 class="section-header">Sections</h3>
  <ul class="link-list">
    
      <li><a href="#5Buntitled-5D"></a></li>
    
      <li><a href="#Public">Public</a></li>
    
      <li><a href="#Internal">Internal</a></li>
    
  </ul>
</nav>

    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link"><a href="../Object.html">Object</a>
  
</nav>

    
    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-advance">#advance</a>
    
    <li ><a href="#method-i-cursor">#cursor</a>
    
    <li ><a href="#method-i-empty-3F">#empty?</a>
    
    <li ><a href="#method-i-eof-3F">#eof?</a>
    
    <li ><a href="#method-i-has_more_lines-3F">#has_more_lines?</a>
    
    <li ><a href="#method-i-line_info">#line_info</a>
    
    <li ><a href="#method-i-lines">#lines</a>
    
    <li ><a href="#method-i-next_line_empty-3F">#next_line_empty?</a>
    
    <li ><a href="#method-i-next_line_info">#next_line_info</a>
    
    <li ><a href="#method-i-peek_line">#peek_line</a>
    
    <li ><a href="#method-i-peek_lines">#peek_lines</a>
    
    <li ><a href="#method-i-prepare_lines">#prepare_lines</a>
    
    <li ><a href="#method-i-prev_line_info">#prev_line_info</a>
    
    <li ><a href="#method-i-process_line">#process_line</a>
    
    <li ><a href="#method-i-read">#read</a>
    
    <li ><a href="#method-i-read_line">#read_line</a>
    
    <li ><a href="#method-i-read_lines">#read_lines</a>
    
    <li ><a href="#method-i-read_lines_until">#read_lines_until</a>
    
    <li ><a href="#method-i-readlines">#readlines</a>
    
    <li ><a href="#method-i-replace_line">#replace_line</a>
    
    <li ><a href="#method-i-restore_line">#restore_line</a>
    
    <li ><a href="#method-i-restore_lines">#restore_lines</a>
    
    <li ><a href="#method-i-shift">#shift</a>
    
    <li ><a href="#method-i-skip_blank_lines">#skip_blank_lines</a>
    
    <li ><a href="#method-i-skip_comment_lines">#skip_comment_lines</a>
    
    <li ><a href="#method-i-skip_line_comments">#skip_line_comments</a>
    
    <li ><a href="#method-i-source">#source</a>
    
    <li ><a href="#method-i-string">#string</a>
    
    <li ><a href="#method-i-terminate">#terminate</a>
    
    <li ><a href="#method-i-to_s">#to_s</a>
    
    <li ><a href="#method-i-unshift">#unshift</a>
    
    <li ><a href="#method-i-unshift_line">#unshift_line</a>
    
    <li ><a href="#method-i-unshift_lines">#unshift_lines</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../README_adoc.html">README.adoc</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../Asciidoctor.html">Asciidoctor</a>
  
    <li><a href="../Asciidoctor/AbstractBlock.html">Asciidoctor::AbstractBlock</a>
  
    <li><a href="../Asciidoctor/AbstractNode.html">Asciidoctor::AbstractNode</a>
  
    <li><a href="../Asciidoctor/AttributeList.html">Asciidoctor::AttributeList</a>
  
    <li><a href="../Asciidoctor/BaseTemplate.html">Asciidoctor::BaseTemplate</a>
  
    <li><a href="../Asciidoctor/Block.html">Asciidoctor::Block</a>
  
    <li><a href="../Asciidoctor/Callouts.html">Asciidoctor::Callouts</a>
  
    <li><a href="../Asciidoctor/Cli.html">Asciidoctor::Cli</a>
  
    <li><a href="../Asciidoctor/Cli/Invoker.html">Asciidoctor::Cli::Invoker</a>
  
    <li><a href="../Asciidoctor/Cli/Options.html">Asciidoctor::Cli::Options</a>
  
    <li><a href="../Asciidoctor/Compliance.html">Asciidoctor::Compliance</a>
  
    <li><a href="../Asciidoctor/Debug.html">Asciidoctor::Debug</a>
  
    <li><a href="../Asciidoctor/DocBook45.html">Asciidoctor::DocBook45</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockAdmonitionTemplate.html">Asciidoctor::DocBook45::BlockAdmonitionTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockAudioTemplate.html">Asciidoctor::DocBook45::BlockAudioTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockColistTemplate.html">Asciidoctor::DocBook45::BlockColistTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockDlistTemplate.html">Asciidoctor::DocBook45::BlockDlistTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockExampleTemplate.html">Asciidoctor::DocBook45::BlockExampleTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockFloatingTitleTemplate.html">Asciidoctor::DocBook45::BlockFloatingTitleTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockImageTemplate.html">Asciidoctor::DocBook45::BlockImageTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockListingTemplate.html">Asciidoctor::DocBook45::BlockListingTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockLiteralTemplate.html">Asciidoctor::DocBook45::BlockLiteralTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockOlistTemplate.html">Asciidoctor::DocBook45::BlockOlistTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockOpenTemplate.html">Asciidoctor::DocBook45::BlockOpenTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockPageBreakTemplate.html">Asciidoctor::DocBook45::BlockPageBreakTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockParagraphTemplate.html">Asciidoctor::DocBook45::BlockParagraphTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockPassTemplate.html">Asciidoctor::DocBook45::BlockPassTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockPreambleTemplate.html">Asciidoctor::DocBook45::BlockPreambleTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockQuoteTemplate.html">Asciidoctor::DocBook45::BlockQuoteTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockRulerTemplate.html">Asciidoctor::DocBook45::BlockRulerTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockSidebarTemplate.html">Asciidoctor::DocBook45::BlockSidebarTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockTableTemplate.html">Asciidoctor::DocBook45::BlockTableTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockTocTemplate.html">Asciidoctor::DocBook45::BlockTocTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockUlistTemplate.html">Asciidoctor::DocBook45::BlockUlistTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockVerseTemplate.html">Asciidoctor::DocBook45::BlockVerseTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/BlockVideoTemplate.html">Asciidoctor::DocBook45::BlockVideoTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/DocumentTemplate.html">Asciidoctor::DocBook45::DocumentTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/EmbeddedTemplate.html">Asciidoctor::DocBook45::EmbeddedTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/InlineAnchorTemplate.html">Asciidoctor::DocBook45::InlineAnchorTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/InlineBreakTemplate.html">Asciidoctor::DocBook45::InlineBreakTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/InlineButtonTemplate.html">Asciidoctor::DocBook45::InlineButtonTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/InlineCalloutTemplate.html">Asciidoctor::DocBook45::InlineCalloutTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/InlineFootnoteTemplate.html">Asciidoctor::DocBook45::InlineFootnoteTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/InlineImageTemplate.html">Asciidoctor::DocBook45::InlineImageTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/InlineIndextermTemplate.html">Asciidoctor::DocBook45::InlineIndextermTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/InlineKbdTemplate.html">Asciidoctor::DocBook45::InlineKbdTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/InlineMenuTemplate.html">Asciidoctor::DocBook45::InlineMenuTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/InlineQuotedTemplate.html">Asciidoctor::DocBook45::InlineQuotedTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook45/SectionTemplate.html">Asciidoctor::DocBook45::SectionTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5.html">Asciidoctor::DocBook5</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockAdmonitionTemplate.html">Asciidoctor::DocBook5::BlockAdmonitionTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockAudioTemplate.html">Asciidoctor::DocBook5::BlockAudioTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockColistTemplate.html">Asciidoctor::DocBook5::BlockColistTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockDlistTemplate.html">Asciidoctor::DocBook5::BlockDlistTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockExampleTemplate.html">Asciidoctor::DocBook5::BlockExampleTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockFloatingTitleTemplate.html">Asciidoctor::DocBook5::BlockFloatingTitleTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockImageTemplate.html">Asciidoctor::DocBook5::BlockImageTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockListingTemplate.html">Asciidoctor::DocBook5::BlockListingTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockLiteralTemplate.html">Asciidoctor::DocBook5::BlockLiteralTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockOlistTemplate.html">Asciidoctor::DocBook5::BlockOlistTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockOpenTemplate.html">Asciidoctor::DocBook5::BlockOpenTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockPageBreakTemplate.html">Asciidoctor::DocBook5::BlockPageBreakTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockParagraphTemplate.html">Asciidoctor::DocBook5::BlockParagraphTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockPassTemplate.html">Asciidoctor::DocBook5::BlockPassTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockPreambleTemplate.html">Asciidoctor::DocBook5::BlockPreambleTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockQuoteTemplate.html">Asciidoctor::DocBook5::BlockQuoteTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockRulerTemplate.html">Asciidoctor::DocBook5::BlockRulerTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockSidebarTemplate.html">Asciidoctor::DocBook5::BlockSidebarTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockTableTemplate.html">Asciidoctor::DocBook5::BlockTableTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockTocTemplate.html">Asciidoctor::DocBook5::BlockTocTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockUlistTemplate.html">Asciidoctor::DocBook5::BlockUlistTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockVerseTemplate.html">Asciidoctor::DocBook5::BlockVerseTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/BlockVideoTemplate.html">Asciidoctor::DocBook5::BlockVideoTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/DocumentTemplate.html">Asciidoctor::DocBook5::DocumentTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/EmbeddedTemplate.html">Asciidoctor::DocBook5::EmbeddedTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/InlineAnchorTemplate.html">Asciidoctor::DocBook5::InlineAnchorTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/InlineBreakTemplate.html">Asciidoctor::DocBook5::InlineBreakTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/InlineButtonTemplate.html">Asciidoctor::DocBook5::InlineButtonTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/InlineCalloutTemplate.html">Asciidoctor::DocBook5::InlineCalloutTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/InlineFootnoteTemplate.html">Asciidoctor::DocBook5::InlineFootnoteTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/InlineImageTemplate.html">Asciidoctor::DocBook5::InlineImageTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/InlineIndextermTemplate.html">Asciidoctor::DocBook5::InlineIndextermTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/InlineKbdTemplate.html">Asciidoctor::DocBook5::InlineKbdTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/InlineMenuTemplate.html">Asciidoctor::DocBook5::InlineMenuTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/InlineQuotedTemplate.html">Asciidoctor::DocBook5::InlineQuotedTemplate</a>
  
    <li><a href="../Asciidoctor/DocBook5/SectionTemplate.html">Asciidoctor::DocBook5::SectionTemplate</a>
  
    <li><a href="../Asciidoctor/Document.html">Asciidoctor::Document</a>
  
    <li><a href="../Asciidoctor/EmptyTemplate.html">Asciidoctor::EmptyTemplate</a>
  
    <li><a href="../Asciidoctor/Extensions.html">Asciidoctor::Extensions</a>
  
    <li><a href="../Asciidoctor/Extensions/BlockMacroProcessor.html">Asciidoctor::Extensions::BlockMacroProcessor</a>
  
    <li><a href="../Asciidoctor/Extensions/BlockProcessor.html">Asciidoctor::Extensions::BlockProcessor</a>
  
    <li><a href="../Asciidoctor/Extensions/Extension.html">Asciidoctor::Extensions::Extension</a>
  
    <li><a href="../Asciidoctor/Extensions/IncludeProcessor.html">Asciidoctor::Extensions::IncludeProcessor</a>
  
    <li><a href="../Asciidoctor/Extensions/InlineMacroProcessor.html">Asciidoctor::Extensions::InlineMacroProcessor</a>
  
    <li><a href="../Asciidoctor/Extensions/MacroProcessor.html">Asciidoctor::Extensions::MacroProcessor</a>
  
    <li><a href="../Asciidoctor/Extensions/Postprocessor.html">Asciidoctor::Extensions::Postprocessor</a>
  
    <li><a href="../Asciidoctor/Extensions/Preprocessor.html">Asciidoctor::Extensions::Preprocessor</a>
  
    <li><a href="../Asciidoctor/Extensions/Processor.html">Asciidoctor::Extensions::Processor</a>
  
    <li><a href="../Asciidoctor/Extensions/Registry.html">Asciidoctor::Extensions::Registry</a>
  
    <li><a href="../Asciidoctor/Extensions/Treeprocessor.html">Asciidoctor::Extensions::Treeprocessor</a>
  
    <li><a href="../Asciidoctor/HTML5.html">Asciidoctor::HTML5</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockAdmonitionTemplate.html">Asciidoctor::HTML5::BlockAdmonitionTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockAudioTemplate.html">Asciidoctor::HTML5::BlockAudioTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockColistTemplate.html">Asciidoctor::HTML5::BlockColistTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockDlistTemplate.html">Asciidoctor::HTML5::BlockDlistTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockExampleTemplate.html">Asciidoctor::HTML5::BlockExampleTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockFloatingTitleTemplate.html">Asciidoctor::HTML5::BlockFloatingTitleTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockImageTemplate.html">Asciidoctor::HTML5::BlockImageTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockListingTemplate.html">Asciidoctor::HTML5::BlockListingTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockLiteralTemplate.html">Asciidoctor::HTML5::BlockLiteralTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockOlistTemplate.html">Asciidoctor::HTML5::BlockOlistTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockOpenTemplate.html">Asciidoctor::HTML5::BlockOpenTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockPageBreakTemplate.html">Asciidoctor::HTML5::BlockPageBreakTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockParagraphTemplate.html">Asciidoctor::HTML5::BlockParagraphTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockPassTemplate.html">Asciidoctor::HTML5::BlockPassTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockPreambleTemplate.html">Asciidoctor::HTML5::BlockPreambleTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockQuoteTemplate.html">Asciidoctor::HTML5::BlockQuoteTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockRulerTemplate.html">Asciidoctor::HTML5::BlockRulerTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockSidebarTemplate.html">Asciidoctor::HTML5::BlockSidebarTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockTableTemplate.html">Asciidoctor::HTML5::BlockTableTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockTocTemplate.html">Asciidoctor::HTML5::BlockTocTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockUlistTemplate.html">Asciidoctor::HTML5::BlockUlistTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockVerseTemplate.html">Asciidoctor::HTML5::BlockVerseTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/BlockVideoTemplate.html">Asciidoctor::HTML5::BlockVideoTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/DocumentTemplate.html">Asciidoctor::HTML5::DocumentTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/EmbeddedTemplate.html">Asciidoctor::HTML5::EmbeddedTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/InlineAnchorTemplate.html">Asciidoctor::HTML5::InlineAnchorTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/InlineBreakTemplate.html">Asciidoctor::HTML5::InlineBreakTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/InlineButtonTemplate.html">Asciidoctor::HTML5::InlineButtonTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/InlineCalloutTemplate.html">Asciidoctor::HTML5::InlineCalloutTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/InlineFootnoteTemplate.html">Asciidoctor::HTML5::InlineFootnoteTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/InlineImageTemplate.html">Asciidoctor::HTML5::InlineImageTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/InlineIndextermTemplate.html">Asciidoctor::HTML5::InlineIndextermTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/InlineKbdTemplate.html">Asciidoctor::HTML5::InlineKbdTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/InlineMenuTemplate.html">Asciidoctor::HTML5::InlineMenuTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/InlineQuotedTemplate.html">Asciidoctor::HTML5::InlineQuotedTemplate</a>
  
    <li><a href="../Asciidoctor/HTML5/SectionTemplate.html">Asciidoctor::HTML5::SectionTemplate</a>
  
    <li><a href="../Asciidoctor/Helpers.html">Asciidoctor::Helpers</a>
  
    <li><a href="../Asciidoctor/Inline.html">Asciidoctor::Inline</a>
  
    <li><a href="../Asciidoctor/Lexer.html">Asciidoctor::Lexer</a>
  
    <li><a href="../Asciidoctor/List.html">Asciidoctor::List</a>
  
    <li><a href="../Asciidoctor/ListItem.html">Asciidoctor::ListItem</a>
  
    <li><a href="../Asciidoctor/PathResolver.html">Asciidoctor::PathResolver</a>
  
    <li><a href="../Asciidoctor/PreprocessorReader.html">Asciidoctor::PreprocessorReader</a>
  
    <li><a href="../Asciidoctor/Reader.html">Asciidoctor::Reader</a>
  
    <li><a href="../Asciidoctor/Reader/Cursor.html">Asciidoctor::Reader::Cursor</a>
  
    <li><a href="../Asciidoctor/Renderer.html">Asciidoctor::Renderer</a>
  
    <li><a href="../Asciidoctor/SafeMode.html">Asciidoctor::SafeMode</a>
  
    <li><a href="../Asciidoctor/Section.html">Asciidoctor::Section</a>
  
    <li><a href="../Asciidoctor/Substituters.html">Asciidoctor::Substituters</a>
  
    <li><a href="../Asciidoctor/Table.html">Asciidoctor::Table</a>
  
    <li><a href="../Asciidoctor/Table/Cell.html">Asciidoctor::Table::Cell</a>
  
    <li><a href="../Asciidoctor/Table/Column.html">Asciidoctor::Table::Column</a>
  
    <li><a href="../Asciidoctor/Table/ParserContext.html">Asciidoctor::Table::ParserContext</a>
  
    <li><a href="../Asciidoctor/TemplateCache.html">Asciidoctor::TemplateCache</a>
  
    <li><a href="../Object.html">Object</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Asciidoctor::Reader</h1>

  <div id="description" class="description">
    
<p>Methods for retrieving lines from AsciiDoc source files</p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <!-- Attributes -->
    <section id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="attribute-i-dir" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">dir</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-file" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">file</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-path" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">path</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </section><!-- attribute-method-details -->
    

    <!-- Methods -->
    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-cursor" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cursor</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="cursor-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 489</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cursor</span>
  <span class="ruby-constant">Cursor</span>.<span class="ruby-identifier">new</span> <span class="ruby-ivar">@file</span>, <span class="ruby-ivar">@dir</span>, <span class="ruby-ivar">@path</span>, <span class="ruby-ivar">@lineno</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- cursor-source -->
          
        </div>

        

        
      </div><!-- cursor-method -->

    
      <div id="method-i-empty-3F" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">empty?</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Reader.html#method-i-eof-3F">eof?</a>
        </div>
        
      </div><!-- empty-3F-method -->

    
      <div id="method-i-next_line_info" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">next_line_info</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Reader.html#method-i-line_info">line_info</a>
        </div>
        
      </div><!-- next_line_info-method -->

    
      <div id="method-i-prev_line_info" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">prev_line_info</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="prev_line_info-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 501</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">prev_line_info</span>
  <span class="ruby-node">%Q(#{@path}: line #{@lineno - 1})</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- prev_line_info-source -->
          
        </div>

        

        
      </div><!-- prev_line_info-method -->

    
      <div id="method-i-readlines" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">readlines</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Reader.html#method-i-read_lines">read_lines</a>
        </div>
        
      </div><!-- readlines-method -->

    
      <div id="method-i-restore_line" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">restore_line</span><span
            class="method-args">(line_to_restore)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Reader.html#method-i-unshift_line">unshift_line</a>
        </div>
        
      </div><!-- restore_line-method -->

    
      <div id="method-i-restore_lines" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">restore_lines</span><span
            class="method-args">(lines_to_restore)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Reader.html#method-i-unshift_lines">unshift_lines</a>
        </div>
        
      </div><!-- restore_lines-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

  
  
  <section id="Public" class="documentation-section">
    
    <div class="documentation-section-title">
      <h2 class="section-header">
        Public
      </h2>
      <span class="section-click-top">
        <a href="#top">&uarr; top</a>
      </span>
    </div>
    

    

    

    
    <!-- Attributes -->
    <section id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="attribute-i-lineno" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">lineno</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>Get the 1-based offset of the current line.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-process_lines" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">process_lines</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Control whether lines are processed using <a
href="Reader.html#method-i-process_line">#process_line</a> on first visit
(default: true)</p>
        
        </div>
      </div>
      
      <div id="attribute-i-source_lines" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">source_lines</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>Get the document source as a String Array of lines.</p>
        
        </div>
      </div>
      
    </section><!-- attribute-method-details -->
    

    <!-- Methods -->
    
     <section id="public-class-Public-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(data = nil, cursor = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Initialize the <a href="Reader.html">Reader</a> object</p>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 36</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span> <span class="ruby-identifier">data</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">cursor</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">cursor</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@file</span> = <span class="ruby-ivar">@dir</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@path</span> = <span class="ruby-string">'&lt;stdin&gt;'</span>
    <span class="ruby-ivar">@lineno</span> = <span class="ruby-value">1</span> <span class="ruby-comment"># IMPORTANT lineno assignment must proceed prepare_lines call!</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">cursor</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">String</span>
    <span class="ruby-ivar">@file</span> = <span class="ruby-identifier">cursor</span>
    <span class="ruby-ivar">@dir</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span> <span class="ruby-ivar">@file</span>
    <span class="ruby-ivar">@path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span> <span class="ruby-ivar">@file</span>
    <span class="ruby-ivar">@lineno</span> = <span class="ruby-value">1</span> <span class="ruby-comment"># IMPORTANT lineno assignment must proceed prepare_lines call!</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@file</span> = <span class="ruby-identifier">cursor</span>.<span class="ruby-identifier">file</span>
    <span class="ruby-ivar">@dir</span> = <span class="ruby-identifier">cursor</span>.<span class="ruby-identifier">dir</span>
    <span class="ruby-ivar">@path</span> = <span class="ruby-identifier">cursor</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">||</span> <span class="ruby-string">'&lt;stdin&gt;'</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@file</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword">if</span> <span class="ruby-ivar">@dir</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-comment"># REVIEW might to look at this assignment closer</span>
        <span class="ruby-ivar">@dir</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span> <span class="ruby-ivar">@file</span>
        <span class="ruby-ivar">@dir</span> = <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@dir</span> <span class="ruby-operator">==</span> <span class="ruby-string">'.'</span> <span class="ruby-comment"># right?</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">cursor</span>.<span class="ruby-identifier">path</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-ivar">@path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span> <span class="ruby-ivar">@file</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-ivar">@lineno</span> = <span class="ruby-identifier">cursor</span>.<span class="ruby-identifier">lineno</span> <span class="ruby-operator">||</span> <span class="ruby-value">1</span> <span class="ruby-comment"># IMPORTANT lineno assignment must proceed prepare_lines call!</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@lines</span> = <span class="ruby-identifier">data</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> [] <span class="ruby-operator">:</span> (<span class="ruby-identifier">prepare_lines</span> <span class="ruby-identifier">data</span>)
  <span class="ruby-ivar">@source_lines</span> = <span class="ruby-ivar">@lines</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-ivar">@eof</span> = <span class="ruby-ivar">@lines</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-ivar">@look_ahead</span> = <span class="ruby-value">0</span>
  <span class="ruby-ivar">@process_lines</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-ivar">@unescape_next_line</span> = <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-Public-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-advance" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">advance</span><span
            class="method-args">(direct = true)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Advance to the next line by discarding the line at the front of the stack</p>
<dl class="rdoc-list note-list"><dt>direct
<dd>
<p>A Boolean flag to bypasses the check for more lines and immediatelyreturns
the first element of the internal @lines Array. (default: true)</p>
</dd></dl>

<p>returns a Boolean indicating whether there was a line to discard.</p>
          
          

          
          <div class="method-source-code" id="advance-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 237</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">advance</span> <span class="ruby-identifier">direct</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-operator">!</span>(<span class="ruby-identifier">read_line</span> <span class="ruby-identifier">direct</span>).<span class="ruby-identifier">nil?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- advance-source -->
          
        </div>

        

        
      </div><!-- advance-method -->

    
      <div id="method-i-eof-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">eof?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Check whether this reader is empty (contains no lines)</p>

<p>Returns true if there are no more lines to peek, otherwise false.</p>
          
          

          
          <div class="method-source-code" id="eof-3F-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 377</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eof?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">has_more_lines?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- eof-3F-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Reader.html#method-i-empty-3F">empty?</a>
        </div>
        

        
      </div><!-- eof-3F-method -->

    
      <div id="method-i-has_more_lines-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">has_more_lines?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Check whether there are any lines left to read.</p>

<p>If a previous call to this method resulted in a value of false,immediately
returned the cached value. Otherwise, delegate topeek_line to determine if
there is a next line available.</p>

<p>Returns True if there are more lines, False if there are not.</p>
          
          

          
          <div class="method-source-code" id="has_more_lines-3F-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 111</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">has_more_lines?</span>
  <span class="ruby-operator">!</span>(<span class="ruby-ivar">@eof</span> <span class="ruby-operator">||</span> (<span class="ruby-ivar">@eof</span> = <span class="ruby-identifier">peek_line</span>.<span class="ruby-identifier">nil?</span>))
<span class="ruby-keyword">end</span></pre>
          </div><!-- has_more_lines-3F-source -->
          
        </div>

        

        
      </div><!-- has_more_lines-3F-method -->

    
      <div id="method-i-line_info" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">line_info</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Get information about the last line read, including file name and line
number.</p>

<p>Returns A String summary of the last line read</p>
          
          

          
          <div class="method-source-code" id="line_info-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 496</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">line_info</span>
  <span class="ruby-node">%Q(#{@path}: line #{@lineno})</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- line_info-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Reader.html#method-i-next_line_info">next_line_info</a>
        </div>
        

        
      </div><!-- line_info-method -->

    
      <div id="method-i-lines" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">lines</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Get a copy of the remaining Array of String lines managed by this <a
href="Reader.html">Reader</a></p>

<p>Returns A copy of the String Array of lines remaining in this <a
href="Reader.html">Reader</a></p>
          
          

          
          <div class="method-source-code" id="lines-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 508</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">lines</span>
  <span class="ruby-ivar">@lines</span>.<span class="ruby-identifier">dup</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- lines-source -->
          
        </div>

        

        
      </div><!-- lines-method -->

    
      <div id="method-i-next_line_empty-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">next_line_empty?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Peek at the next line and check if it’s empty (i.e., whitespace only)</p>

<p>This method Does not consume the line from the stack.</p>

<p>Returns True if the there are no more lines or if the next line is empty</p>
          
          

          
          <div class="method-source-code" id="next_line_empty-3F-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 120</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">next_line_empty?</span>
  (<span class="ruby-identifier">line</span> = <span class="ruby-identifier">peek_line</span>).<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">chomp</span>.<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- next_line_empty-3F-source -->
          
        </div>

        

        
      </div><!-- next_line_empty-3F-method -->

    
      <div id="method-i-peek_line" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">peek_line</span><span
            class="method-args">(direct = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Peek at the next line of source data. Processes the line, if notalready
marked as processed, but does not consume it.</p>

<p>This method will probe the reader for more lines. If there is a next
linethat has not previously been visited, the line is passed to
theReader#preprocess_line method to be initialized. This call
givessub-classess the opportunity to do preprocessing. If the return value
ofthe <a href="Reader.html#method-i-process_line">#process_line</a> is nil,
the data is assumed to be changed andReader#peek_line is invoked again to
perform further processing.</p>
<dl class="rdoc-list note-list"><dt>direct
<dd>
<p>A Boolean flag to bypasses the check for more lines and immediatelyreturns
the first element of the internal @lines Array. (default: false)</p>
</dd></dl>

<p>Returns the next line of the source data as a String if there are lines
remaining.Returns nil if there is no more data.</p>
          
          

          
          <div class="method-source-code" id="peek_line-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 139</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">peek_line</span> <span class="ruby-identifier">direct</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">direct</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@look_ahead</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
    <span class="ruby-ivar">@unescape_next_line</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@lines</span>.<span class="ruby-identifier">first</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>] <span class="ruby-operator">:</span> <span class="ruby-ivar">@lines</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@eof</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@lines</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-ivar">@eof</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-ivar">@look_ahead</span> = <span class="ruby-value">0</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># FIXME the problem with this approach is that we aren't</span>
    <span class="ruby-comment"># retaining the modified line (hence the @unescape_next_line tweak)</span>
    <span class="ruby-comment"># perhaps we need a stack of proxy lines</span>
    <span class="ruby-keyword">if</span> (<span class="ruby-identifier">line</span> = <span class="ruby-identifier">process_line</span> <span class="ruby-ivar">@lines</span>.<span class="ruby-identifier">first</span>).<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">peek_line</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">line</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- peek_line-source -->
          
        </div>

        

        
      </div><!-- peek_line-method -->

    
      <div id="method-i-peek_lines" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">peek_lines</span><span
            class="method-args">(num = 1, direct = true)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Peek at the next multiple lines of source data. Processes the lines, if
notalready marked as processed, but does not consume them.</p>

<p>This method delegates to <a
href="Reader.html#method-i-read_line">#read_line</a> to process and collect
the line, thenrestores the lines to the stack before returning them. This
allows the lines tobe processed and marked as such so that subsequent reads
will not need to processthe lines again.</p>
<dl class="rdoc-list note-list"><dt>num
<dd>
<p>The Integer number of lines to peek.</p>
</dd><dt>direct
<dd>
<p>A Boolean indicating whether processing should be disabled when reading
lines</p>
</dd></dl>

<p>Returns A String Array of the next multiple lines of source data, or an
empty Arrayif there are no more lines in this <a
href="Reader.html">Reader</a>.</p>
          
          

          
          <div class="method-source-code" id="peek_lines-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 171</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">peek_lines</span> <span class="ruby-identifier">num</span> = <span class="ruby-value">1</span>, <span class="ruby-identifier">direct</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">old_look_ahead</span> = <span class="ruby-ivar">@look_ahead</span>
  <span class="ruby-identifier">result</span> = []
  (<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-identifier">num</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">if</span> (<span class="ruby-identifier">line</span> = <span class="ruby-identifier">read_line</span> <span class="ruby-identifier">direct</span>)
      <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">line</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">break</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">result</span>.<span class="ruby-identifier">reverse_each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span> <span class="ruby-identifier">unshift</span> <span class="ruby-identifier">line</span> }
    <span class="ruby-ivar">@look_ahead</span> = <span class="ruby-identifier">old_look_ahead</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">direct</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- peek_lines-source -->
          
        </div>

        

        
      </div><!-- peek_lines-method -->

    
      <div id="method-i-read" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">read</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Get the remaining lines of source data joined as a String.</p>

<p>Delegates to <a href="Reader.html#method-i-read_lines">#read_lines</a>,
then joins the result.</p>

<p>Returns the lines read joined as a String</p>
          
          

          
          <div class="method-source-code" id="read-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 227</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">read</span>
  <span class="ruby-identifier">read_lines</span>.<span class="ruby-identifier">join</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- read-source -->
          
        </div>

        

        
      </div><!-- read-method -->

    
      <div id="method-i-read_line" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">read_line</span><span
            class="method-args">(direct = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Get the next line of source data. Consumes the line returned.</p>
<dl class="rdoc-list note-list"><dt>direct
<dd>
<p>A Boolean flag to bypasses the check for more lines and immediatelyreturns
the first element of the internal @lines Array. (default: false)</p>
</dd></dl>

<p>Returns the String of the next line of the source data if data is
present.Returns nil if there is no more data.</p>
          
          

          
          <div class="method-source-code" id="read_line-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 197</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">read_line</span> <span class="ruby-identifier">direct</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">direct</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@look_ahead</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">has_more_lines?</span>
    <span class="ruby-identifier">shift</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- read_line-source -->
          
        </div>

        

        
      </div><!-- read_line-method -->

    
      <div id="method-i-read_lines" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">read_lines</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Get the remaining lines of source data.</p>

<p>This method calls <a href="Reader.html#method-i-read_line">#read_line</a>
repeatedly until all lines are consumedand returns the lines as a String
Array. This method differs fromReader#lines in that it processes each line
in turn, hence triggeringany preprocessors implemented in sub-classes.</p>

<p>Returns the lines read as a String Array</p>
          
          

          
          <div class="method-source-code" id="read_lines-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 213</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">read_lines</span>
  <span class="ruby-identifier">lines</span> = []
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">has_more_lines?</span>
    <span class="ruby-identifier">lines</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">read_line</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">lines</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- read_lines-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Reader.html#method-i-readlines">readlines</a>
        </div>
        

        
      </div><!-- read_lines-method -->

    
      <div id="method-i-read_lines_until" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">read_lines_until</span><span
            class="method-args">(options = {}) { |line)| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return all the lines from `@lines` until we (1) run out them,(2) find a
blank line with :break_on_blank_lines =&gt; true, or (3) finda line for
which the given block evals to true.</p>
<dl class="rdoc-list note-list"><dt>options
<dd>
<p>an optional Hash of processing options:* :break_on_blank_lines may be used
to specify to break onblank lines* :skip_first_line may be used to tell the
reader to advancebeyond the first line before beginning the scan*
:preserve_last_line may be used to specify that the Stringcausing the
method to stop processing lines should bepushed back onto the `lines`
Array.* :read_last_line may be used to specify that the Stringcausing the
method to stop processing lines should beincluded in the lines being
returned</p>
</dd></dl>

<p>Returns the Array of lines forming the next segment.</p>

<h3 id="method-i-read_lines_until-label-Examples">Examples<span><a href="#method-i-read_lines_until-label-Examples">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">reader</span> = <span class="ruby-constant">Reader</span>.<span class="ruby-identifier">new</span> [<span class="ruby-string">&quot;First paragraph\n&quot;</span>, <span class="ruby-string">&quot;Second paragraph\n&quot;</span>,
                     <span class="ruby-string">&quot;Open block\n&quot;</span>, <span class="ruby-string">&quot;\n&quot;</span>, <span class="ruby-string">&quot;Can have blank lines\n&quot;</span>,
                     <span class="ruby-string">&quot;--\n&quot;</span>, <span class="ruby-string">&quot;\n&quot;</span>, <span class="ruby-string">&quot;In a different segment\n&quot;</span>]

<span class="ruby-identifier">reader</span>.<span class="ruby-identifier">read_lines_until</span>
=<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;First paragraph\n&quot;</span>, <span class="ruby-string">&quot;Second paragraph\n&quot;</span>, <span class="ruby-string">&quot;Open block\n&quot;</span>]
</pre>
          
          

          
          <div class="method-source-code" id="read_lines_until-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 408</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">read_lines_until</span> <span class="ruby-identifier">options</span> = {}
  <span class="ruby-identifier">result</span> = []
  <span class="ruby-identifier">advance</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:skip_first_line</span>]
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@process_lines</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:skip_processing</span>]
    <span class="ruby-ivar">@process_lines</span> = <span class="ruby-keyword">false</span>
    <span class="ruby-identifier">restore_process_lines</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">restore_process_lines</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">has_block</span> = <span class="ruby-identifier">block_given?</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">terminator</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:terminator</span>])
    <span class="ruby-identifier">break_on_blank_lines</span> = <span class="ruby-keyword">false</span>
    <span class="ruby-identifier">break_on_list_continuation</span> = <span class="ruby-keyword">false</span>
    <span class="ruby-identifier">chomp_last_line</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">fetch</span> <span class="ruby-value">:chomp_last_line</span>, <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">break_on_blank_lines</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:break_on_blank_lines</span>]
    <span class="ruby-identifier">break_on_list_continuation</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:break_on_list_continuation</span>]
    <span class="ruby-identifier">chomp_last_line</span> = <span class="ruby-identifier">break_on_blank_lines</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">skip_line_comments</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:skip_line_comments</span>]
  <span class="ruby-identifier">line_read</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">line_restored</span> = <span class="ruby-keyword">false</span>
  
  <span class="ruby-keyword">while</span> (<span class="ruby-identifier">line</span> = <span class="ruby-identifier">read_line</span>)
    <span class="ruby-identifier">finish</span> = <span class="ruby-keyword">while</span> <span class="ruby-keyword">true</span>
      <span class="ruby-keyword">break</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">terminator</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">chomp</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">terminator</span>
      <span class="ruby-comment"># QUESTION: can we get away with line.chomp.empty? here?</span>
      <span class="ruby-keyword">break</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">break_on_blank_lines</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">chomp</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">break_on_list_continuation</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">line_read</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">chomp</span> <span class="ruby-operator">==</span> <span class="ruby-constant">LIST_CONTINUATION</span>
        <span class="ruby-identifier">options</span>[<span class="ruby-value">:preserve_last_line</span>] = <span class="ruby-keyword">true</span>
        <span class="ruby-keyword">break</span> <span class="ruby-keyword">true</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">break</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">has_block</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-keyword">yield</span> <span class="ruby-identifier">line</span>)
      <span class="ruby-keyword">break</span> <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">finish</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:read_last_line</span>]
        <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">line</span>
        <span class="ruby-identifier">line_read</span> = <span class="ruby-keyword">true</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:preserve_last_line</span>]
        <span class="ruby-identifier">restore_line</span> <span class="ruby-identifier">line</span>
        <span class="ruby-identifier">line_restored</span> = <span class="ruby-keyword">true</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">break</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">skip_line_comments</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">'//'</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">match</span>(<span class="ruby-constant">REGEXP</span>[<span class="ruby-value">:comment</span>])
      <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">line</span>
      <span class="ruby-identifier">line_read</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">chomp_last_line</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">line_read</span>
    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">pop</span>.<span class="ruby-identifier">chomp</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">restore_process_lines</span>
    <span class="ruby-ivar">@process_lines</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-ivar">@look_ahead</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">line_restored</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">terminator</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- read_lines_until-source -->
          
        </div>

        

        
      </div><!-- read_lines_until-method -->

    
      <div id="method-i-replace_line" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">replace_line</span><span
            class="method-args">(replacement)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Replace the current line with the specified line.</p>

<p>Calls <a href="Reader.html#method-i-advance">#advance</a> to consume the
current line, then callsReader#unshift to push the replacement onto the top
of theline stack.</p>
<dl class="rdoc-list note-list"><dt>replacement
<dd>
<p>The String line to put in place of the line at the cursor.</p>
</dd></dl>

<p>Returns nothing.</p>
          
          

          
          <div class="method-source-code" id="replace_line-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 275</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">replace_line</span> <span class="ruby-identifier">replacement</span>
  <span class="ruby-identifier">advance</span>
  <span class="ruby-identifier">unshift</span> <span class="ruby-identifier">replacement</span>
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- replace_line-source -->
          
        </div>

        

        
      </div><!-- replace_line-method -->

    
      <div id="method-i-skip_blank_lines" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">skip_blank_lines</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Strip off leading blank lines in the Array of lines.</p>

<h3 id="method-i-skip_blank_lines-label-Examples">Examples<span><a href="#method-i-skip_blank_lines-label-Examples">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-ivar">@lines</span>
=<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;\n&quot;</span>, <span class="ruby-string">&quot;\t\n&quot;</span>, <span class="ruby-string">&quot;Foo\n&quot;</span>, <span class="ruby-string">&quot;Bar\n&quot;</span>, <span class="ruby-string">&quot;\n&quot;</span>]

<span class="ruby-identifier">skip_blank_lines</span>
=<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>

<span class="ruby-ivar">@lines</span>
=<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;Foo\n&quot;</span>, <span class="ruby-string">&quot;Bar\n&quot;</span>]
</pre>

<p>Returns an Integer of the number of lines skipped</p>
          
          

          
          <div class="method-source-code" id="skip_blank_lines-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 295</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">skip_blank_lines</span>
  <span class="ruby-keyword">return</span> <span class="ruby-value">0</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">eof?</span>

  <span class="ruby-identifier">num_skipped</span> = <span class="ruby-value">0</span>
  <span class="ruby-comment"># optimized code for shortest execution path</span>
  <span class="ruby-keyword">while</span> (<span class="ruby-identifier">next_line</span> = <span class="ruby-identifier">peek_line</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">next_line</span>.<span class="ruby-identifier">chomp</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-identifier">advance</span>
      <span class="ruby-identifier">num_skipped</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">num_skipped</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">num_skipped</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- skip_blank_lines-source -->
          
        </div>

        

        
      </div><!-- skip_blank_lines-method -->

    
      <div id="method-i-skip_comment_lines" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">skip_comment_lines</span><span
            class="method-args">(opts = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Skip consecutive lines containing line comments and return them.</p>

<h3 id="method-i-skip_comment_lines-label-Examples">Examples<span><a href="#method-i-skip_comment_lines-label-Examples">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-ivar">@lines</span>
=<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;// foo\n&quot;</span>, <span class="ruby-string">&quot;bar\n&quot;</span>]

<span class="ruby-identifier">comment_lines</span> = <span class="ruby-identifier">skip_comment_lines</span>
=<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;// foo\n&quot;</span>]

<span class="ruby-ivar">@lines</span>
=<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&quot;bar\n&quot;</span>]
</pre>

<p>Returns the Array of lines that were skipped</p>
          
          

          
          <div class="method-source-code" id="skip_comment_lines-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 325</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">skip_comment_lines</span> <span class="ruby-identifier">opts</span> = {}
  <span class="ruby-keyword">return</span> [] <span class="ruby-keyword">if</span> <span class="ruby-identifier">eof?</span>

  <span class="ruby-identifier">comment_lines</span> = []
  <span class="ruby-identifier">include_blank_lines</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:include_blank_lines</span>]
  <span class="ruby-keyword">while</span> (<span class="ruby-identifier">next_line</span> = <span class="ruby-identifier">peek_line</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">include_blank_lines</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">next_line</span>.<span class="ruby-identifier">chomp</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-identifier">comment_lines</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">read_line</span>
    <span class="ruby-keyword">elsif</span> (<span class="ruby-identifier">commentish</span> = <span class="ruby-identifier">next_line</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">'//'</span>)) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">match</span> = <span class="ruby-identifier">next_line</span>.<span class="ruby-identifier">match</span>(<span class="ruby-constant">REGEXP</span>[<span class="ruby-value">:comment_blk</span>]))
      <span class="ruby-identifier">comment_lines</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">read_line</span>
      <span class="ruby-identifier">comment_lines</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span>(<span class="ruby-identifier">read_lines_until</span>(<span class="ruby-value">:terminator</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">match</span>[<span class="ruby-value">0</span>], <span class="ruby-value">:read_last_line</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-value">:skip_processing</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)))
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">commentish</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">next_line</span>.<span class="ruby-identifier">match</span>(<span class="ruby-constant">REGEXP</span>[<span class="ruby-value">:comment</span>])
      <span class="ruby-identifier">comment_lines</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">read_line</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">break</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">comment_lines</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- skip_comment_lines-source -->
          
        </div>

        

        
      </div><!-- skip_comment_lines-method -->

    
      <div id="method-i-skip_line_comments" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">skip_line_comments</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Skip consecutive lines that are line comments and return them.</p>
          
          

          
          <div class="method-source-code" id="skip_line_comments-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 347</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">skip_line_comments</span>
  <span class="ruby-keyword">return</span> [] <span class="ruby-keyword">if</span> <span class="ruby-identifier">eof?</span>

  <span class="ruby-identifier">comment_lines</span> = []
  <span class="ruby-comment"># optimized code for shortest execution path</span>
  <span class="ruby-keyword">while</span> (<span class="ruby-identifier">next_line</span> = <span class="ruby-identifier">peek_line</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">next_line</span>.<span class="ruby-identifier">match</span>(<span class="ruby-constant">REGEXP</span>[<span class="ruby-value">:comment</span>])
      <span class="ruby-identifier">comment_lines</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">read_line</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">break</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">comment_lines</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- skip_line_comments-source -->
          
        </div>

        

        
      </div><!-- skip_line_comments-method -->

    
      <div id="method-i-source" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">source</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Get the source lines for this <a href="Reader.html">Reader</a> joined as a
String</p>
          
          

          
          <div class="method-source-code" id="source-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 518</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">source</span>
  <span class="ruby-ivar">@source_lines</span>.<span class="ruby-identifier">join</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- source-source -->
          
        </div>

        

        
      </div><!-- source-method -->

    
      <div id="method-i-string" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">string</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Get a copy of the remaining lines managed by this <a
href="Reader.html">Reader</a> joined as a String</p>
          
          

          
          <div class="method-source-code" id="string-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 513</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">string</span>
  <span class="ruby-ivar">@lines</span>.<span class="ruby-identifier">join</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- string-source -->
          
        </div>

        

        
      </div><!-- string-method -->

    
      <div id="method-i-terminate" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">terminate</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Advance to the end of the reader, consuming all remaining lines</p>

<p>Returns nothing.</p>
          
          

          
          <div class="method-source-code" id="terminate-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 366</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">terminate</span>
  <span class="ruby-ivar">@lineno</span> <span class="ruby-operator">+=</span> <span class="ruby-ivar">@lines</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-ivar">@lines</span>.<span class="ruby-identifier">clear</span>
  <span class="ruby-ivar">@eof</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-ivar">@look_ahead</span> = <span class="ruby-value">0</span>
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- terminate-source -->
          
        </div>

        

        
      </div><!-- terminate-method -->

    
      <div id="method-i-to_s" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_s</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Get a summary of this <a href="Reader.html">Reader</a>.</p>

<p>Returns A string summary of this reader, which contains the path and line
information</p>
          
          

          
          <div class="method-source-code" id="to_s-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 526</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">line_info</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- to_s-source -->
          
        </div>

        

        
      </div><!-- to_s-method -->

    
      <div id="method-i-unshift_line" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unshift_line</span><span
            class="method-args">(line_to_restore)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Push the String line onto the beginning of the Array of source data.</p>

<p>Since this line was (assumed to be) previously retrieved through thereader,
it is marked as seen.</p>

<p>returns nil</p>
          
          

          
          <div class="method-source-code" id="unshift_line-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 247</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unshift_line</span> <span class="ruby-identifier">line_to_restore</span>
  <span class="ruby-identifier">unshift</span> <span class="ruby-identifier">line_to_restore</span>
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- unshift_line-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Reader.html#method-i-restore_line">restore_line</a>
        </div>
        

        
      </div><!-- unshift_line-method -->

    
      <div id="method-i-unshift_lines" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unshift_lines</span><span
            class="method-args">(lines_to_restore)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Push an Array of lines onto the front of the Array of source data.</p>

<p>Since these lines were (assumed to be) previously retrieved through
thereader, they are marked as seen.</p>

<p>Returns nil</p>
          
          

          
          <div class="method-source-code" id="unshift_lines-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 259</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unshift_lines</span> <span class="ruby-identifier">lines_to_restore</span>
  <span class="ruby-comment"># QUESTION is it faster to use unshift(*lines_to_restore)?</span>
  <span class="ruby-identifier">lines_to_restore</span>.<span class="ruby-identifier">reverse_each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span> <span class="ruby-identifier">unshift</span> <span class="ruby-identifier">line</span> }
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- unshift_lines-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Reader.html#method-i-restore_lines">restore_lines</a>
        </div>
        

        
      </div><!-- unshift_lines-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- Public -->

  
  
  <section id="Internal" class="documentation-section">
    
    <div class="documentation-section-title">
      <h2 class="section-header">
        Internal
      </h2>
      <span class="section-click-top">
        <a href="#top">&uarr; top</a>
      </span>
    </div>
    

    

    

    

    <!-- Methods -->
    
     <section id="public-instance-Internal-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-prepare_lines" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">prepare_lines</span><span
            class="method-args">(data, opts = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Prepare the lines from the provided data</p>

<p>This method strips whitespace from the end of every line ofthe source data
and appends a LF (i.e., Unix endline). Thiswhitespace substitution is very
important to how Asciidoctorworks.</p>

<p>Any leading or trailing blank lines are also removed.</p>

<p>The normalized lines are assigned to the @lines instance variable.</p>
<dl class="rdoc-list note-list"><dt>data
<dd>
<p>A String Array of input data to be normalized</p>
</dd><dt>opts
<dd>
<p>A Hash of options to control what cleansing is done</p>
</dd></dl>

<p>Returns The String lines extracted from the data</p>
          
          

          
          <div class="method-source-code" id="prepare_lines-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 86</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">prepare_lines</span> <span class="ruby-identifier">data</span>, <span class="ruby-identifier">opts</span> = {}
  <span class="ruby-identifier">data</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">each_line</span>.<span class="ruby-identifier">to_a</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">dup</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- prepare_lines-source -->
          
        </div>

        

        
      </div><!-- prepare_lines-method -->

    
      <div id="method-i-process_line" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">process_line</span><span
            class="method-args">(line)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Processes a previously unvisited line</p>

<p>By default, this method marks the line as processedby incrementing the
look_ahead counter and returnsthe line unmodified.</p>

<p>Returns The String line the <a href="Reader.html">Reader</a> should make
available to the nextinvocation of <a
href="Reader.html#method-i-read_line">#read_line</a> or nil if the <a
href="Reader.html">Reader</a> should drop the line,advance to the next line
and process it.</p>
          
          

          
          <div class="method-source-code" id="process_line-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 99</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">process_line</span> <span class="ruby-identifier">line</span>
  <span class="ruby-ivar">@look_ahead</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@process_lines</span>
  <span class="ruby-identifier">line</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- process_line-source -->
          
        </div>

        

        
      </div><!-- process_line-method -->

    
      <div id="method-i-shift" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">shift</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Shift the line off the stack and increment the lineno</p>
          
          

          
          <div class="method-source-code" id="shift-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 475</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">shift</span>
  <span class="ruby-ivar">@lineno</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
  <span class="ruby-ivar">@look_ahead</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@look_ahead</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
  <span class="ruby-ivar">@lines</span>.<span class="ruby-identifier">shift</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- shift-source -->
          
        </div>

        

        
      </div><!-- shift-method -->

    
      <div id="method-i-unshift" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unshift</span><span
            class="method-args">(line)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Restore the line to the stack and decrement the lineno</p>
          
          

          
          <div class="method-source-code" id="unshift-source">
            <pre><span class="ruby-comment"># File lib/asciidoctor/reader.rb, line 482</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unshift</span> <span class="ruby-identifier">line</span>
  <span class="ruby-ivar">@lineno</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>
  <span class="ruby-ivar">@look_ahead</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
  <span class="ruby-ivar">@eof</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@lines</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-identifier">line</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- unshift-source -->
          
        </div>

        

        
      </div><!-- unshift-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- Internal -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 4.0.1.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

